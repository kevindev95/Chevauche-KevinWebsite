@import "tailwindcss";

/* Empêche les débordements horizontaux indésirables */
html, body, #root {
  width: 100%;
  max-width: 100%;
  overflow-x: hidden;
}

/* Animation légère pour tous les textes */
@keyframes text-scale-soft { 0%,100%{ transform: scale(1);} 50%{ transform: scale(1.01);} }
body, body *:where(h1,h2,h3,h4,h5,h6,p,span,li,a,button,label,small,strong,em,blockquote,figcaption) {
  -webkit-font-smoothing: antialiased;
}
.text-soft-anim { animation: text-scale-soft 4s ease-in-out infinite; transform-origin: center; }

/* Hover doux sur tous les textes (global) */
body :where(h1,h2,h3,h4,h5,h6,p,span,li,a,small,strong,em,label,figcaption,blockquote,button) {
  transition: color .18s ease, text-shadow .2s ease;
}
body :where(h1,h2,h3,h4,h5,h6,p,span,li,a,small,strong,em,label,figcaption,blockquote,button):hover {
  text-shadow: 0 0 8px rgba(234,179,8,.16);
}
@media (prefers-reduced-motion: reduce) {
  body :where(h1,h2,h3,h4,h5,h6,p,span,li,a,small,strong,em,label,figcaption,blockquote,button) { transition: none; }
}

@keyframes marquee {
  0% { transform: translateX(0%); }
  100% { transform: translateX(-50%); }
}
.animate-marquee {
  display: inline-flex;
  animation: marquee 18s linear infinite;
  will-change: transform;
}

@keyframes marquee-reverse {
  0% { transform: translateX(-50%); }
  100% { transform: translateX(0%); }
}
.animate-marquee-reverse {
  display: inline-flex;
  animation: marquee-reverse 18s linear infinite;
  will-change: transform;
}

/* Inversion fluide gérée en JS (voir Hello.jsx) */

.overflow-x-auto {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE 10+ */
}
.overflow-x-auto::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
}

/* --- Particules de fond pour la section héro --- */
@keyframes particle-drift {
  0% { transform: translate3d(0, 0, 0); opacity: 0.3; }
  50% {
    transform: translate3d(
      calc(var(--dx, 8px) * var(--amp, 2.4)),
      calc(var(--dy, -8px) * var(--amp, 2.4)),
      0
    );
    opacity: 0.85;
  }
  100% { transform: translate3d(0, 0, 0); opacity: 0.3; }
}

.particles {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
  /* léger dégradé de fond derrière les billes */
  background:
    radial-gradient(900px 360px at 18% 25%, rgba(234, 179, 8, 0.06), rgba(16, 30, 43, 0) 60%),
    radial-gradient(900px 360px at 82% 20%, rgba(56, 189, 248, 0.06), rgba(16, 30, 43, 0) 60%),
    linear-gradient(180deg, #0f1a27 0%, #122035 100%);
}

.particle {
  position: absolute;
  width: 4px;
  height: 4px;
  border-radius: 9999px;
  background: rgba(234, 179, 8, 0.5); /* jaune */
  box-shadow: 0 0 6px rgba(234, 179, 8, 0.35);
  animation-name: particle-drift;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: calc(var(--dur, 8s) * var(--spd, 0.7));
  animation-delay: var(--delay, 0s);
}

/* --- Animations d’entrée au scroll (globales) --- */
.reveal { opacity: 0; transition: opacity .6s ease, transform .6s ease, filter .6s ease; }
.reveal.in-view { opacity: 1; }
.reveal-up { transform: translateY(24px); }
.reveal-up.in-view { transform: none; }
.reveal-down { transform: translateY(-24px); }
.reveal-down.in-view { transform: none; }
.reveal-left { transform: translateX(-28px); }
.reveal-left.in-view { transform: none; }
.reveal-right { transform: translateX(28px); }
.reveal-right.in-view { transform: none; }
.reveal-zoom { transform: scale(.92); }
.reveal-zoom.in-view { transform: none; }
.reveal-rotate-left { transform: rotate(-6deg) translateY(8px); }
.reveal-rotate-left.in-view { transform: none; }
.reveal-rotate-right { transform: rotate(6deg) translateY(-8px); }
.reveal-rotate-right.in-view { transform: none; }
.reveal-blur { filter: blur(6px); }
.reveal-blur.in-view { filter: none; }
.reveal-scale-x { transform: scaleX(0); transform-origin: center; }
.reveal-scale-x.in-view { transform: scaleX(1); }
.reveal-delay-1 { transition-delay: .1s; }
.reveal-delay-2 { transition-delay: .2s; }
.reveal-delay-3 { transition-delay: .3s; }
.reveal-delay-4 { transition-delay: .4s; }
.reveal-delay-5 { transition-delay: .5s; }
.reveal-delay-6 { transition-delay: .6s; }

/* --- Hover utilities (effets variés) --- */
.hover-float { transition: transform .3s ease, box-shadow .3s ease, filter .3s ease; }
.hover-float:hover { transform: translateY(-6px) scale(1.02); }
.hover-tilt { transition: transform .25s ease, filter .25s ease; }
.hover-tilt:hover { transform: translateY(-2px) rotate(-1.5deg); }
.hover-glow { transition: box-shadow .3s ease, transform .3s ease; }
.hover-glow:hover { box-shadow: 0 0 0 4px rgba(234,179,8,.15), 0 18px 36px rgba(0,0,0,.35); transform: translateY(-4px); }
.hover-brace { transition: transform .25s ease, text-shadow .25s ease, color .25s ease; transform-origin: center; }
.hover-brace:hover { transform: translateY(-6px) scale(1.06) rotate(1deg); text-shadow: 0 0 12px rgba(234,179,8,.45), 0 0 28px rgba(234,179,8,.18); color: #fde047; }
.hover-scale { transition: transform .2s ease; transform-origin: center; will-change: transform; }
.hover-scale:hover { transform: scale(1.06); }
.hover-text-scale { transition: transform .18s ease; transform-origin: center; will-change: transform; }
.hover-text-scale:hover { transform: scale(1.03); }
.hover-scale-text {
  display: inline-block; /* permet le transform sans affecter le flux */
  transition: transform 350ms cubic-bezier(0.2, 0.9, 0.2, 1);
  transform-origin: center;
}
.hover-scale-text:hover {
  transform: scale(1.03);
}

/* Scale pour les cartes/blocs sans casser les autres effets (ombres, couleurs) */
.hover-scale-card { transition: transform .25s ease, box-shadow .25s ease; will-change: transform; }
.hover-scale-card:hover { transform: translateY(-4px) scale(1.04); }

@keyframes wiggle { 0%,100%{ transform: rotate(0deg);} 25%{ transform: rotate(-4deg);} 75%{ transform: rotate(4deg);} }
.hover-wiggle:hover { animation: wiggle .4s ease-in-out; }

/* --- Survol des textes dans la section Projets --- */
#ProjectsExemple :where(h1,h2,h3,h4,h5,h6,p,span,li,a,strong,em,small,figcaption,blockquote,button) {
  transition: color .18s ease, text-shadow .22s ease, transform .22s ease;
}
#ProjectsExemple :where(h1,h2,h3,h4,h5,h6,p,span,li,a,strong,em,small,figcaption,blockquote,button):hover {
  transform: translateY(-1px) scale(1.015);
  text-shadow: 0 0 8px rgba(234,179,8,.16);
}

/* --- Click/active utilities --- */
@keyframes press-bounce { 0%{ transform: scale(1);} 50%{ transform: scale(.96);} 100%{ transform: scale(1);} }
.click-bounce:active { animation: press-bounce 220ms cubic-bezier(.3,.7,.4,1); }
.click-push { transition: transform .15s ease, filter .15s ease; }
.click-push:active { transform: translateY(2px) scale(.97); filter: brightness(.98); }
.click-rotate:active { transform: rotate(1deg) scale(.98); }
.click-rotate-small:active { transform: rotate(-1deg) scale(.99); }

/* --- Petites utilitaires récurrentes --- */
.shadow-deep { box-shadow: 0 20px 40px rgba(0,0,0,.25); }
.ring-gold { box-shadow: 0 0 0 4px rgba(234,179,8,.35); }
/* hover tilt for images and CTA containers */
.tilt-hover {
  will-change: transform;
  /* durée rallongée pour agrandissement moins rapide (boutons/images utilisant .tilt-hover) */
  transition: transform 2500ms cubic-bezier(0.2, 0.9, 0.2, 1), box-shadow 2500ms cubic-bezier(0.2, 0.9, 0.2, 1) !important;
  display: inline-block;
}
.tilt-hover:hover {
  transform: translateY(-6px) rotate(-0.6deg) scale(1.02);
  box-shadow: 0 12px 30px rgba(0,0,0,0.35);
}
.tilt-hover:active {
  transform: translateY(-2px) rotate(-0.3deg) scale(0.995);
  transition-duration: 150ms !important;
}

/* classe pour transition lente (2.5s) utilisée par les boutons/images */
.tilt-hover-slow {
  display: inline-block;
  will-change: transform;
  -webkit-transition: transform 2500ms cubic-bezier(0.2,0.9,0.2,1) !important;
  transition: transform 2500ms cubic-bezier(0.2,0.9,0.2,1) !important;
  /* s'assurer qu'aucune autre transition ne prend le dessus */
  transition-property: transform, box-shadow !important;
  transition-duration: 2500ms !important;
}
.tilt-hover-slow:hover {
  transform: scale(1.02);
  -webkit-transform: scale(1.02);
  box-shadow: 0 12px 30px rgba(0,0,0,0.18);
}
.tilt-hover-slow:active {
  transform: scale(0.995) !important;
  transition-duration: 150ms !important;
}

/* subtle tilt for text elements on hover -> uniquement au survol */
.tilt-text {
  display: inline-block;
  transition: transform 360ms cubic-bezier(0.22, 1, 0.36, 1), color 200ms;
  transform-origin: center;
}
.tilt-text:hover {
  transform: translateY(-3px) rotate(-0.8deg);
  color: #ffd966;
}

/* keep reveal animation from earlier (révélé à l'entrée dans le viewport) */
.reveal {
  opacity: 0;
  transform: translateY(18px) scale(0.995);
  transition-property: opacity, transform;
  transition-duration: 600ms;
  transition-timing-function: cubic-bezier(0.22, 1, 0.36, 1);
  will-change: opacity, transform;
}
.reveal.in-view {
  opacity: 1;
  transform: none;
}

/* accessible pointer for interactive blocks */
.tilt-hover, a[role="button"] { cursor: pointer; }
/* CTA : fond qui scale à hover (1.25) sur 2.5s, texte inchangé */
.cta-link {
  position: relative;
  display: block;
  max-width: 64rem; /* same as max-w-4xl */
  margin-left: auto;
  margin-right: auto;
  border-radius: 9999px;
  overflow: visible;
  text-decoration: none;
}
.cta-link .bg-layer {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none; /* laisser le clic passer à l'a */
  transform-origin: center;
  transition: transform 2500ms cubic-bezier(0.2,0.9,0.2,1), box-shadow 2500ms cubic-bezier(0.2,0.9,0.2,1);
}
.cta-link:hover .bg-layer {
  transform: scale(1.25);
  box-shadow: 0 24px 60px rgba(0,0,0,0.25);
}

/* fond bouton : transition lente (2.5s) avec scale moins puissant (1.08) */
.btn-bg-layer {
  position: absolute;
  inset: 0;
  border-radius: 9999px; /* force l'arrondi complet */
  pointer-events: none;
  transform-origin: center;
  will-change: transform, box-shadow;
  transition: transform 2500ms cubic-bezier(0.2,0.9,0.2,1), box-shadow 2500ms cubic-bezier(0.2,0.9,0.2,1);
  /* ensure background covers fully without showing internal artifacts */
  background-clip: padding-box;
  -webkit-backface-visibility: hidden;
}
a[role="button"]:hover .btn-bg-layer {
  transform: scale(1.08); /* scale moins prononcé (ajuste si besoin) */
  box-shadow: 0 10px 25px rgba(0,0,0,0.18);
}

/* garantir que le texte reste lisible et non transformé */
.cta-link .z-10 { position: relative; z-index: 10; }
/* fix: ensure btn-bg-layer has an explicit initial transform and a high-specificity hover rule */
a[role="button"].reveal.overflow-hidden .btn-bg-layer,
a[role="button"].reveal.overflow-hidden .btn-bg-layer {
  position: absolute;
  inset: 0;
  border-radius: 9999px;
  pointer-events: none;
  transform-origin: center;
  transform: scale(1); /* important: explicit start state */
  will-change: transform, box-shadow;
  -webkit-backface-visibility: hidden;
  background-clip: padding-box;
  transition: transform 2500ms cubic-bezier(0.2,0.9,0.2,1) !important;
  transition-property: transform, box-shadow !important;
  transition-duration: 2500ms !important;
}

/* hover state — plus spécifique et forcé */
a[role="button"].reveal.overflow-hidden:hover .btn-bg-layer,
a[role="button"].reveal:hover .btn-bg-layer {
  transform: scale(1.08) !important;
  box-shadow: 0 10px 25px rgba(0,0,0,0.18) !important;
}

/* fallback pour éléments qui n'ont pas exactement ces classes */
.btn-bg-layer {
  transform: scale(1);
  transition: transform 2500ms cubic-bezier(0.2,0.9,0.2,1);
}
.btn-bg-layer:hover {
  transform: scale(1.08);
}

/* simple, reliable hover scale for the button background (2.5s) */
.btn-simple{
  position: relative;
  display: inline-block;
  overflow: hidden;
  border-radius: 9999px;
  text-decoration: none;
}
.btn-simple .btn-bg{
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none; /* let clicks go to the link */
  background: linear-gradient(180deg,#FFD86B 0%,#E8B308 100%);
  transform: scale(1);
  transition: transform 2500ms cubic-bezier(0.2,0.9,0.2,1), box-shadow 2500ms cubic-bezier(0.2,0.9,0.2,1);
  will-change: transform, box-shadow;
}
.btn-simple:hover .btn-bg{
  transform: scale(1.08);
  box-shadow: 0 12px 30px rgba(0,0,0,0.18);
}
.btn-simple .btn-label{
  position: relative;
  z-index: 1;
  display: inline-block;
  color: #0b0b0b;
  font-weight: 700;
  padding: 0.9rem 2rem; /* approx py-4 px-8 */
  font-size: 1rem; /* adjust if needed */
  line-height: 1;
}

/* même animation que la grande CTA : bg-layer scale à hover (2.5s, scale 1.25) */
.btn-simple {
  position: relative;
  display: inline-block;
  overflow: hidden;
  border-radius: 9999px;
  text-decoration: none;
}
.btn-simple .bg-layer {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  transform-origin: center;
  transform: scale(1);
  transition: transform 2500ms cubic-bezier(0.2,0.9,0.2,1), box-shadow 2500ms cubic-bezier(0.2,0.9,0.2,1);
  will-change: transform, box-shadow;
  background-clip: padding-box;
  -webkit-backface-visibility: hidden;
}
.btn-simple:hover .bg-layer {
  transform: scale(1.25);
  box-shadow: 0 20px 50px rgba(0,0,0,0.25);
}

/* s'assurer que le texte reste au-dessus et non transformé */
.btn-simple .z-10 { position: relative; z-index: 10; }

/* animation bg pour les 3 cartes - même principe que la grande CTA */
.card-cta {
  position: relative;
  overflow: hidden;
  border-radius: 0.75rem; /* rounded-xl */
  -webkit-backface-visibility: hidden;
}
.card-cta .card-bg-layer {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  transform-origin: center;
  transform: scale(1);
  /* animation lente identique (2.5s) */
  transition: transform 2500ms cubic-bezier(0.2,0.9,0.2,1), box-shadow 2500ms cubic-bezier(0.2,0.9,0.2,1);
  /* léger halo jaune, ajustable */
  background: radial-gradient(circle at 70% 30%, rgba(234,179,8,0.10), rgba(234,179,8,0.04) 20%, transparent 45%);
  mix-blend-mode: screen;
  will-change: transform, box-shadow;
}

/* hover: même scale que la grande CTA (1.25) */
.card-cta:hover .card-bg-layer {
  transform: scale(1.25);
  box-shadow: 0 20px 50px rgba(234,179,8,0.12);
}

/* garder le contenu lisible au-dessus */
.card-cta > .relative { position: relative; z-index: 1; }

/* Désactiver toutes les animations/hover pour les cartes marquées .no-anim
   (notamment la première carte "Développement Full‑Stack") */
.card-cta.no-anim,
.card-cta.no-anim .card-bg-layer,
.card-cta.no-anim:hover,
.card-cta.no-anim:hover .card-bg-layer {
  transition: none !important;
  transform: none !important;
  box-shadow: none !important;
  /* enlever tout halo/gradient si nécessaire (laisser apparence statique) */
  background: none !important;
}

/* Si tu veux garder le style de fond mais sans animation, tu peux utiliser à la place :
.card-cta.no-anim .card-bg-layer {
  transition: none !important;
  transform: scale(1) !important;
  box-shadow: none !important;
  background: radial-gradient(circle at 70% 30%, rgba(234,179,8,0.06), transparent 30%);
}
*/

/* small responsive tweak si besoin */
@media (max-width: 768px) {
  .card-cta .card-bg-layer { background-size: cover; }
}